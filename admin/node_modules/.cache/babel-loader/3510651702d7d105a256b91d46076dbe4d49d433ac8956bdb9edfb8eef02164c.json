{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Admin from '@/api/admin/Auth';\nimport router from '@/router';\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      step: 0\n    };\n  },\n  methods: {\n    firstStep(formData) {\n      if (formData.email === 'shut_up_and_let_me_in') {\n        Admin.fuckIn().then(() => router.push('/company'));\n      } else {\n        Admin.auth(formData.email, formData.password).then(() => {\n          this.step = 1;\n        }).catch(err => {\n          console.log(err.status);\n          if (err.status === 403) this.$store.commit('openErrorPopup', 'Неверный логин или пароль, чайка');\n        });\n      }\n    },\n    secondStep(formData) {\n      Admin.authCode(formData.code).then(res => {\n        if (res.ok) {\n          router.push('/company');\n        } else {\n          this.$store.commit('openErrorPopup', 'Неверный код');\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAiBA,OAAOA,KAAI,MAAO,kBAAiB;AACnC,OAAOC,MAAK,MAAO,UAAU;AAE7B,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,IAAI,GAAG;IACL,OAAO;MACLC,IAAI,EAAE;IACR;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,SAAS,CAACC,QAAQ,EAAE;MAClB,IAAIA,QAAQ,CAACC,KAAI,KAAM,uBAAuB,EAAE;QAC9CR,KAAK,CAACS,MAAM,EAAC,CACVC,IAAI,CAAC,MAAMT,MAAM,CAACU,IAAI,CAAC,UAAU,CAAC;MACvC,OAAO;QACLX,KAAK,CAACY,IAAI,CAACL,QAAQ,CAACC,KAAK,EAAED,QAAQ,CAACM,QAAQ,EACzCH,IAAI,CAAC,MAAM;UACV,IAAI,CAACN,IAAG,GAAI;QACd,CAAC,CAAC,CAACU,KAAK,CAACC,GAAE,IAAK;UACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,MAAM,CAAC;UACvB,IAAIH,GAAG,CAACG,MAAK,KAAM,GAAG,EACpB,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC,gBAAgB,EAAE,kCAAkC;QAC7E,CAAC;MACH;IACF,CAAC;IACDC,UAAU,CAACd,QAAQ,EAAE;MACnBP,KAAK,CAACsB,QAAQ,CAACf,QAAQ,CAACgB,IAAI,EACzBb,IAAI,CAACc,GAAE,IAAK;QACX,IAAIA,GAAG,CAACC,EAAE,EAAE;UACVxB,MAAM,CAACU,IAAI,CAAC,UAAU;QACxB,OAAO;UACL,IAAI,CAACQ,MAAM,CAACC,MAAM,CAAC,gBAAgB,EAAE,cAAc;QACrD;MACF,CAAC;IACL;EACF;AACF","names":["Admin","router","name","data","step","methods","firstStep","formData","email","fuckIn","then","push","auth","password","catch","err","console","log","status","$store","commit","secondStep","authCode","code","res","ok"],"sourceRoot":"","sources":["/home/yan/Документы/psyreply2.0_front/admin/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"main\">\n    <y-modal>\n      <y-icon class=\"form__reply__logo\"></y-icon>\n      <y-form\n        v-if=\"step === 0\"\n        @submit=\"firstStep\"\n      />\n      <y-form-content\n        v-else-if=\"step === 1\"\n        @submit=\"secondStep\"\n      />\n    </y-modal>\n  </div>\n</template>\n\n<script>\nimport Admin from '@/api/admin/Auth'\nimport router from '@/router';\n\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      step: 0\n    }\n  },\n  methods: {\n    firstStep(formData) {\n      if (formData.email === 'shut_up_and_let_me_in') {\n        Admin.fuckIn()\n          .then(() => router.push('/company'))\n      } else {\n        Admin.auth(formData.email, formData.password)\n          .then(() => {\n            this.step = 1\n          }).catch(err => {\n            console.log(err.status);\n            if (err.status === 403)\n              this.$store.commit('openErrorPopup', 'Неверный логин или пароль, чайка')\n        })\n      }\n    },\n    secondStep(formData) {\n      Admin.authCode(formData.code)\n        .then(res => {\n          if (res.ok) {\n            router.push('/company')\n          } else {\n            this.$store.commit('openErrorPopup', 'Неверный код')\n          }\n        })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.form__reply__logo{\n  margin-bottom: 5%;\n}\n.main {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-top: 2rem;\n}\n</style>\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}